input â† â€¢file.Lines "input"

FSplitString â† ((âŠ¢-ËœÂ¬Ã—+`)âˆ˜=âŠ”âŠ¢)
FStringToInt â† +Â´((âŒ½10â‹†â†•âˆ˜â‰ )Ã—-âŸœ'0')

input â†© >FStringToIntâš‡Â¯2 input
len â† â‰ input
fullCoords â† âˆ¾âŒœËœâ†•len
allPD â† 1â€¿1â€¿1â€¿1â€¿0â€¿1â€¿1â€¿1â€¿1/âˆ¾<Ë˜â‰âŒœËœÂ¯1â€¿0â€¿1
allP â† {(((âˆ§Â´Â¯1âŠ¸<)âˆ§(âˆ§Â´lenâŠ¸>))Â¨/âŠ¢) allPD+<ğ•©}Â¨fullCoords

flashArr â† 0

# part 1
Fn â† {
  # increase by 1
  iter â† 1+ğ•©

  # for each coords starting from 0â€¿0, traverse the adjacent neighbors and look for value > 9
  # but need to maintain previous 0
  Fs â† {
    zeroMask â† Â¬0=ğ•©
    incrdMask â† +Â´Â¨9<allPâŠ‘ğ•©
    aftInc â† ğ•©+zeroMaskÃ—incrdMask

    oâ†(Â¬9<ğ•©)Ã—aftInc
    # synchronization step: need to keep iterating
    # as long as there are cells(>9)
    {âˆ¨Â´â¥Š9<ğ•©}â—¶âŠ¢â€¿ğ•Š o
  }

  final â† Fs iter
  flashArr +â†© +Â´â¥Š0=final
  final
}

FnâŸ100 input
â€¢Show flashArr
                      

