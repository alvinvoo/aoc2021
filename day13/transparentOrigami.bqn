
input â† â€¢file.Lines "input"
fold â† â€¢file.Lines "fold"

FSplitString â† ((âŠ¢-ËœÂ¬Ã—+`)âˆ˜=âŠ”âŠ¢)
FStringToInt â† +Â´((âŒ½10â‹†â†•âˆ˜â‰ )Ã—-âŸœ'0')

â€¢Show input â†© >FStringToIntâš‡Â¯2 ','FSplitStringÂ¨input

â€¢Show fold â†© {aâ€¿bâ†'='FSplitString Â¯1âŠ‘' 'FSplitStringð•©â‹„aâ€¿(FStringToInt b)}Â¨fold

# assuming all fold lines are always in half of the paper

Fn â† {
# first get 2nd half of the paper
axisâ€¿lineâ†ð•¨

# which fold?
wfâ†{axisâ‰¡"y"?1;0}
# experimental, flip x,y according to the fold axis
# so the folding algo doesnt need to change

# if "y" fold
# first half
fhâ†line>wfâŠË˜ð•©
firstHalf â† fh/ð•©
# 2nd half
wfuncâ†{axisâ‰¡"y"?{xâ€¿yâ†ð•©â‹„xâ€¿(y-ËœlineÃ—2)};{xâ€¿yâ†ð•©â‹„(x-ËœlineÃ—2)â€¿y}}
afterFold â† wfuncË˜(Â¬fh)/ð•©

â· firstHalf âˆ¾ afterFold
}

# part 1
#iâ†(âŠfold) Fn input
#â‰ i

# part 2

â€¢Show "part 2"
accum â† input
codeâ†âˆ§Â¯1âŠ‘{
  accumâ†©ð•©Fn accum
}Â¨fold

# size is 39 Ã— 6
â‰39â€¿6â¥ŠcodeâˆŠËœ>â¥Šâ†•39â€¿6
# CAFJHZCK
