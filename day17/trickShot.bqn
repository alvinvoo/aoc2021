#taxâ†20â€¿30
#tayâ†Â¯10â€¿Â¯5
taxâ†253â€¿280
tayâ†Â¯73â€¿Â¯46

StepX â† {
  Xf â† {+`âŒ½â†•1+ğ•©}
  xp â† Xf ğ•©
  Â¯1âŠ‘xp
}

cx â† 0
{ğ•Š: cx+â†©1 â‹„ StepX cx} â€¢_while_(<âŸœ(âŠ‘tax)) 1

â€¢Show "least X value"
â€¢Show cx

Step1Y â† {
  syâ†ğ•©
  psâ†âŸ¨syâŸ©
  {ğ•Š:pâ†ğ•©+sy-â†©1 â‹„ psâˆ¾â†©<p â‹„ p}â€¢_while_(â‰¥âŸœ(âŠ‘tay)) sy
  ps Â¯1âŠ¸â†“â†©
  #return empty if its out of range
  tâ†Â¯1âŠ‘ps
  {(tâ‰¤1âŠ‘tay)âˆ§(tâ‰¥âŠ‘tay)?ps;âŸ¨âŸ©}
}

# part 1
# due to the highest reach should have the highest velocity and thus would
# land the furthest towards the bottom line of the target
# so try within ~70-73 and got the answer
#â€¢Show âŒˆÂ´Step1Y 72

#answer: 2628

Step1X â† {
  sxâ†ğ•©
  psâ†âŸ¨sxâŸ©
  {ğ•Š:pâ†ğ•©+sxâ†©{sxâ‰¡0?0;sx-1} â‹„ psâˆ¾â†©<p â‹„ p}â€¢_while_{(sxâ‰¢0)âˆ§(1âŠ‘tax)â‰¥ğ•©} sx
  ps
}

â€¢Show "how?"
Rangeâ†{lâ€¿hâ†ğ•©â‹„l+â†•(0-l)+1+h}
# first get all the Y value indices that are within the target range
yValsâ†Range Â¯36â€¿72 # the range to examine is from (reverse) the MAX Y value able to satisfy the Y target range until about half of that value (in negative)
yRangesâ†Step1YÂ¨yVals
yRIndicesâ†{/(ğ•©â‰¥âŠ‘tay)âˆ§(ğ•©â‰¤1âŠ‘tay)}Â¨yRanges

largestYIndicesâ†âŒˆÂ´âˆ¾yRIndices

# match those value indices to all X values
xValsâ†Range 22â€¿140  # the range to examine is from the least X value able to satify the X target range until HALF of the distance, since if its more than half, next step will go out of range
xRangesâ†Step1XÂ¨xVals

# who has range until the edge?
rSâ†{(ğ•©â‰¥âŠ‘tax)âˆ§(ğ•©â‰¤1âŠ‘tax)}Â¨xRanges
xUntilEdgeâ†{âˆ§Â´Â¯2â€¿Â¯1âŠğ•©}Â¨rS
xRIndicesâ†/Â¨rS
# first few rows extend until the end
# the LAST x indices need to match the largest indices of Y - which is 145
# in this example
# (until the end)
uEIâ†{inxâ†âŠ‘ğ•© â‹„ inx+â†•(largestYIndices+1-inx)}Â¨xUntilEdge/xRIndices
xRIndicesâ†©uEIâˆ¾(Â¬xUntilEdge)/xRIndices

r1â†xRIndices (âˆ¨Â´âˆ˜âˆŠ)âŒœ yRIndices

â€¢Show outsideTargetCountâ†+Â´+Ër1
â€¢Show insideTargetCountâ†(1+(1âŠ‘tay)-âŠ‘tay)Ã—(1+(1âŠ‘tax)-âŠ‘tax)
â€¢Show totalCountâ†outsideTargetCount+insideTargetCount

# answer: 1334

# check: function to step thru each initial velocities
StepThruâ†{xâ€¿y:
  dxâ€¿dyâ†xâ€¿y
  psâ†âŸ¨xâ€¿yâŸ©
  {ğ•Š: 
    dxâ†©0âŒˆdx-1
    dy-â†©1
    nvâ†dxâ€¿dy+Â¯1âŠ‘ps
    psâˆ¾â†©<nv
  } â€¢_while_ {xâ€¿yâ†Â¯1âŠ‘ğ•© â‹„ Â¬(xâ‰¥253)âˆ§(yâ‰¤Â¯46)} ps
  #
  #{xâ€¿yâ†Â¯1âŠ‘ğ•© â‹„ (xâ‰¤280)âˆ§(yâ‰¥Â¯73)} ps
}


