in â† â€¢FLines "inputEx1"
do â† â€¢ReBQN {replâ‡"strict"}

#for single positive digit addition only
AddS â† +â—‹(-âŸœ'0')
Addition â† {"["âˆ¾ğ•¨âˆ¾","âˆ¾ğ•©âˆ¾"]"}

Reduce â† {ğ•Šsum:
  â€¢Show "new iter"
  bsâ†"[]"=Ë˜â‰Ëœsum
  wcsâ†bsâˆ¾','=sum
  â€¢Show dnumsâ†/Â¬+Ëwcs
  #convert sum to BQN array format in string
  arrâ†sum
  â€¢Show arrâ†©Â¯1âŠ"âŸ¨âŸ©"{dsâ†/ğ•©â‹„arr (ğ•¨â¥ŠËœâ‰ ds)âŒ¾(dsâŠ¸âŠ)â†©}Ë˜bs

  barrâ†Do arr
  â€¢Show â‰¡barr 

  {(5â‰¤â‰¡barr)?
    #get 4th level depth arrays selector
    levelsâ†âŸ¨âŸ©
    {sâ†2=â‰ ğ•©â‹„levels âˆ¾â†© s}âš‡Â¯4 barr
    leftmoindâ†âŠ‘/levels
    #get left-most num index - get the pair indices
    â€¢Show "lp rp"
    â€¢SHow lpâ€¿rpâ†leftmoindâ€¿(1+leftmoind)âŠdnums
    â€¢Show leftmoind

    #two new left-right regular values
    â€¢Show nlpâ†{(0>leftmoind-1)?Â¯1;
      llâ†(leftmoind-1)â€¿leftmoind âŠ‘Â¨ <dnums
      â€¢Show "left v"
      â€¢Show vâ†AddSÂ´ llâŠsum
      vrâ†{v>9?{aâ€¿bâ†(+âŸœ(48+@) âŒŠâ‰âŒˆ)ğ•©â‹„"["âˆ¾aâˆ¾","âˆ¾bâˆ¾"]"}vÃ·2;âŸ¨v+48+@âŸ©}
      (âŠ‘ll)â€¿vr
      }

    â€¢Show nrpâ†{((â‰ dnums)â‰¤leftmoind+2)?Â¯1;
      llâ†(leftmoind+2)â€¿(leftmoind+1) âŠ‘Â¨ <dnums
      â€¢Show "right v"
      â€¢Show vâ†AddSÂ´ llâŠsum
      vrâ†{v>9?{aâ€¿bâ†(+âŸœ(48+@) âŒŠâ‰âŒˆ)ğ•©â‹„"["âˆ¾aâˆ¾","âˆ¾bâˆ¾"]"}vÃ·2;âŸ¨v+48+@âŸ©}
      (âŠ‘ll)â€¿vr
      }

    #replace range can only do from right to left
    #with starting index + len
    #assume first len = 1 for left and right regular
    #assume first len = 5 for target pair
    {nrpâ‰¢Â¯1?nrâ€¿vâ†nrpâ‹„sumâ†©(nrâ†‘sum)âˆ¾vâˆ¾(nr+1)â†“sum;@}
    sumâ†©((lp-1)â†‘sum)âˆ¾"0"âˆ¾(5+lp-1)â†“sum
    {nlpâ‰¢Â¯1?nlâ€¿vâ†nlpâ‹„sumâ†©(nlâ†‘sum)âˆ¾vâˆ¾(nl+1)â†“sum;@}
    1â€¿sum;
    0â€¿sum}
}

#aâ†"[3,[2,[1,[7,3]]]]" Addition "[6,[5,[4,[3,2]]]]"
#aâ†"[[[[4,3],4],4],[7,[[8,4],9]]]" Addition "[1,1]"
aâ†"[[[0,[4,5]],[0,0]],[[[4,5],[2,6]],[9,5]]]" Addition "[7,[[[3,7],[4,3]],[[6,3],[8,8]]]]"

{ğ•Š:oâ€¿bâ†Reduce aâ‹„aâ†©bâ‹„o}â€¢_while_âŠ¢ 1

â€¢Show a




